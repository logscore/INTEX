<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>My Milestones</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body { background: #ffd8d1; font-family: Arial, sans-serif; padding-top: 90px; }
		.card { border-radius: 12px; }
		.page-header { font-family: 'DM Serif Display', serif; font-size: 1.6rem; }
		.label { font-weight: 600; color: #444; }
		.milestone-item { border-left: 4px solid #e45858; padding: 12px; margin-bottom: 12px; background: #f8f9fa; border-radius: 4px; }
		.milestone-item:hover { background: #e9ecef; }
	</style>
</head>
<body>
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8">
				<div class="card p-4 mb-4">
					<div class="d-flex justify-content-between align-items-center">
					<div>
						<h2 class="page-header"><%= participantName %>'s Milestones</h2>
						<p class="text-muted">Track your achievements and milestones.</p>
					</div>
					<a href="/userDashboard" class="btn btn-white btn-sm">Return to Dashboard</a>
					</div>
				</div>

				<% if (!milestones || milestones.length === 0) { %>
					<div class="alert alert-info">
						<strong>No milestones yet.</strong> Keep working towards your goals!
					</div>
				<% } else { %>
					<div class="card p-4 mb-4">
						<h4 class="mb-4">Your Milestones</h4>
						<% milestones.forEach(function(m) { %>
							<div class="milestone-item d-flex justify-content-between align-items-center">
								<div>
									<p class="mb-2">
										<span class="label"><%= m.MilestoneTitle %></span>
									</p>
									<small class="text-muted">
										<%= m.MilestoneDate ? new Date(m.MilestoneDate).toLocaleDateString() : 'â€”' %>
									</small>
								</div>
								<form method="POST" action="/deleteMilestone" style="display: inline;" onsubmit="return confirm('Delete this milestone?');">
									<input type="hidden" name="milestoneId" value="<%= m.MilestoneID %>" />
									<button type="submit" class="btn btn-sm btn-danger">Delete</button>
								</form>
							</div>
						<% }) %>
					</div>
				<% } %>

				<div class="card p-4">
					<h4 class="mb-4">Add a New Milestone</h4>
					<form method="POST" action="/addMilestone">
						<div class="mb-3">
							<label for="milestoneTitle" class="form-label">Milestone Title</label>
							<input type="text" class="form-control" id="milestoneTitle" name="milestoneTitle" placeholder="e.g., Bachelor's Degree, Internship, etc." required />
						</div>
						<div class="mb-3">
							<label for="milestoneDate" class="form-label">Achievement Date</label>
							<input type="date" class="form-control" id="milestoneDate" name="milestoneDate" required />
						</div>
						<div class="d-flex justify-content-end">
							<button type="submit" class="btn btn-primary">Add Milestone</button>
						</div>
					</form>
				</div>

			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
